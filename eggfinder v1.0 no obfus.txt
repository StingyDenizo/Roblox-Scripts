TweenService = game:GetService("TweenService")
Http = game:GetService("HttpService")
serverhopmodule = loadstring(game:HttpGet"https://raw.githubusercontent.com/LeoKholYt/roblox/main/lk_serverhop.lua")()

function eggteleport(eggmodel)
	if eggmodel then
		local destination = eggmodel.Display.Position


		local tweenInfo = TweenInfo.new(30, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)
		local goal = {CFrame = CFrame.new(destination)}

		local tween = TweenService:Create(game.Players.LocalPlayer.Character.HumanoidRootPart, tweenInfo, goal)
		tween:Play()
	end
end

function SendMessageEMBED(url, embed)
	local http = game:GetService("HttpService")
	local headers = {
		["Content-Type"] = "application/json"
	}
	local data = {
		["embeds"] = {
			{
				["title"] = embed.title,
				["description"] = embed.description,
				["color"] = embed.color,
				["fields"] = embed.fields,
				["footer"] = {
					["text"] = embed.footer.text
				}
			}
		}
	}
	local body = http:JSONEncode(data)
	local response = request({
		Url = url,
		Method = "POST",
		Headers = headers,
		Body = body
	})
	print("Sent")
end

local currentegg = nil
local currentrift = nil

function eggautohatch()
	spawn(function()
		for i = 1,2100 do
			wait(0.3)
			if currentrift and currentrift:IsDescendantOf(workspace) then
				local args = {
					"HatchEgg",
					currentegg,
					eggopenamount
				}
				game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Framework"):WaitForChild("Network"):WaitForChild("Remote"):WaitForChild("Event"):FireServer(unpack(args))
			else
				pcall(function()
					task.wait(5)
					serverhopmodule:Teleport(game.PlaceId)
				end)
				break
			end
		end
	end)
end

local character = game.Workspace:WaitForChild(playername,10)
local plr = game.Players:WaitForChild(playername,10)
if plr:WaitForChild("PlayerGui",10):FindFirstChild("Intro") then
	local background = plr:WaitForChild("PlayerGui",10):WaitForChild("Intro",10):WaitForChild("Doggy",10)
	for i = 1,30 do
		wait(1)
		if background.ImageTransparency == 0 then
			print("Ready to go")
			break
		end
	end
end
print("Rift Finder Loaded! ðŸŽ‰")
task.wait(3)
local riftsfolder = game.Workspace.Rendered:WaitForChild("Rifts",10)

if game.Players.LocalPlayer.PlayerGui:FindFirstChild("Intro") then
	game.Players.LocalPlayer.PlayerGui.Intro.Enabled = false
end
game.Players.LocalPlayer.PlayerGui.ScreenGui.Enabled = true

local auraeggfound = false

for _,findauraegg in pairs(game.Workspace.Rendered.Rifts:GetChildren()) do
	if findauraegg.Name == "man-egg" then
		eggteleport(findauraegg)
		currentrift = findauraegg
		spawn(function()
			wait(20)
			currentegg = "Aura Egg"
			eggautohatch()
		end)
		auraeggfound = true

		local height = math.round(findauraegg.Display.Position.Y)
		height -= 7

		local playercount = 0

		for _,getplayers in pairs(game.Players:GetChildren()) do
			playercount += 1
		end

		local url = "https://discord.com/api/webhooks/1363662608502362304/u6gCfKndQkiT7WStCtmxCzqAb2GMPb4p_CHxPiKNk_boib1x6AGsbgdt7_LAp-gZHPrQ"


		local embed = {
			["title"] = "Aura Egg has been Found! ðŸŽ‰",
			["description"] = "Time Remaining: ".."**"..findauraegg.Display.SurfaceGui.Timer.Text.."**",
			["color"] = 65280,
			["fields"] = {
				{
					["name"] = "Height",
					["value"] = height
				},
				{
					["name"] = "Player Count",
					["value"] = playercount.."/12"
				},
				{
					["name"] = "Server",
					["value"] = "[Join Server](https://www.roblox.com/games/95720264720572/BGSI-Redirector?launchData=85896571713843/"..game.JobId..")"
				},
			},
			["footer"] = {
				["text"] = "Job Id: "..game.JobId
			}
		}
		SendMessageEMBED(url, embed)
		eggfound = true		

		break
	end
end

if auraeggfound == false then

	local eggfound = false

	for _,getegg in pairs(game.Workspace.Rendered.Rifts:GetChildren()) do
		print(getegg.Name)
		if table.find(targeteggs, getegg.Name) then
			if getegg.Display.SurfaceGui.Icon.Luck.Text == "x25" then
				eggteleport(getegg)
				currentrift = getegg
				spawn(function()
					wait(20)
					if getegg.Name == "nightmare-egg" then
						currentegg = "Nightmare Egg"
					elseif getegg.Name == "rainbow-egg" then
						currentegg = "Rainbow Egg"
					elseif getegg.Name == "void-egg" then
						currentegg = "Void Egg"
					elseif getegg.Name == "event-1" then
						currentegg = "Bunny Egg"
					elseif getegg.Name == "event-2" then
						currentegg = "Pastel Egg"
					elseif getegg.Name == "man-egg" then
						currentegg = "Aura Egg"
					end	

					eggautohatch()
				end)

				local height = math.round(getegg.Display.Position.Y)
				height -= 7

				local playercount = 0

				for _,getplayers in pairs(game.Players:GetChildren()) do
					playercount += 1
				end

				local url = nil

				if getegg.Name == "nightmare-egg" then
					url = "https://discord.com/api/webhooks/1363655348044431614/CbeybWkQOlTA237oHGVW1kf0ucTio-1n1qDUt-7tTJ2Tov0EJRrRW9JwU1_SVUTzjmwt"
				elseif getegg.Name == "void-egg" then
					url = "https://discord.com/api/webhooks/1363655216133570690/BtU_dpHnYvuNvjOO--DJVuPVwxT7XTOnUSKKh4M3mAK5uTdStLtrrUjyIs7jLPpaM6fU"
				elseif getegg.Name == "rainbow-egg" then
					url = "https://discord.com/api/webhooks/1363655458581254304/fYj1S4YhFyfT4MVq92w96cy4F4Delm13yDc5eEw9v5IrujjmTJHZ4TX9klMUf7BsJ4uK"
				elseif getegg.Name == "event-1" then --Bunny Egg
					url = "https://discord.com/api/webhooks/1363655994881740972/BfmXw6aCq2-lD-DP30sCkPLODHScQp8TBFOGLmCn6kJX7gFv2GgD463A_bvlREN-JtzG"
				elseif getegg.Name == "event-2" then --Pastel Egg
					url = "https://discord.com/api/webhooks/1363656179254821036/1vpOkRjjy4VZjHw3y5u1nDaRNlgvwuIcYlJOSBqMaGUPTVS_B8GShWWwgWRWJip2XLIA"
				end


				local embed = {
					["title"] = "An Egg has been Found! ðŸŽ‰",
					["description"] = "Time Remaining: ".."**"..getegg.Display.SurfaceGui.Timer.Text.."**",
					["color"] = 65280,
					["fields"] = {
						{
							["name"] = "Height",
							["value"] = height.."m"
						},
						{
							["name"] = "Player Count",
							["value"] = playercount.."/12"
						},
						{
							["name"] = "Server",
							["value"] = "[Join Server](https://www.roblox.com/games/95720264720572/BGSI-Redirector?launchData=85896571713843/"..game.JobId..")"
						},
					},
					["footer"] = {
						["text"] = "Job Id: "..game.JobId
					}
				}
				SendMessageEMBED(url, embed)
				eggfound = true		
			end
		end
	end

	if eggfound == false then
		pcall(function()
			task.wait(5)
			serverhopmodule:Teleport(game.PlaceId)
		end)
	end

end



